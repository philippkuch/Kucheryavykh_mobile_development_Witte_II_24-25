// Импорт функции defineConfig для типизации конфигурационного объекта Cypress.
// Это помогает с автодополнением и проверкой типов при редактировании конфигурации.
import { defineConfig } from 'cypress';

export default defineConfig({
  e2e: {
    // Базовый URL для всех команд cy.visit() и cy.request().
    // Указывает на адрес, по которому запускается приложение в режиме разработки (например, через `ionic serve`).
    baseUrl: 'http://127.0.0.1:8100',

    // Размеры области просмотра (viewport) по умолчанию для тестов.
    // Эти значения выбраны для имитации экрана современного мобильного устройства,
    // что важно для тестирования адаптивности мобильного приложения.
    viewportWidth: 390,    // Ширина области просмотра в пикселях.
    viewportHeight: 844,   // Высота области просмотра в пикселях.

    // Опция, включающая поддержку взаимодействия с элементами внутри Shadow DOM.
    // Это критически важно для тестирования приложений на Ionic, так как многие
    // стандартные компоненты Ionic (например, ion-button, ion-input) используют Shadow DOM
    // для инкапсуляции своей внутренней структуры и стилей. Без этой опции Cypress
    // не сможет "видеть" и взаимодействовать с элементами внутри этих компонентов.
    includeShadowDom: true,

    // Функция для настройки обработчиков событий Node.js в Cypress.
    // Здесь можно регистрировать плагины, задачи (tasks) или изменять конфигурацию Cypress
    // на уровне Node.js перед запуском тестов. В данном проекте пока не используется,
    // но оставлена для возможных будущих расширений.
    setupNodeEvents(on, config) {
      // В этой функции можно реализовывать обработчики событий Node.js.
      // Например: on('task', { myTask: () => { ... } })
      // или require('path/to/plugin')(on, config)
    },
  },
});